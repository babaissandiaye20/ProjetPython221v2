{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"AdminConsole/","title":"AdminConsole \u2013 Console d\u00e9di\u00e9e aux administrateurs","text":"<p>Cette interface permet \u00e0 l\u2019admin de g\u00e9rer : - les \u00e9tudiants (CRUD + notes), - les classes (CRUD + mati\u00e8res), - les statistiques, - les exportations (CSV, JSON, PDF).</p>"},{"location":"AdminConsole/#classe-adminconsole","title":"Classe : AdminConsole","text":""},{"location":"AdminConsole/#__init__self-utilisateur","title":"\ud83e\uddf1 <code>__init__(self, utilisateur)</code>","text":"<ul> <li>But : Instancie la console admin avec :</li> <li>l\u2019utilisateur connect\u00e9,</li> <li>acc\u00e8s aux repositories : <code>Utilisateur</code>, <code>Etudiant</code>, <code>Classe</code>.</li> </ul>"},{"location":"AdminConsole/#afficher_menu_principalself","title":"\ud83d\udccb <code>afficher_menu_principal(self)</code>","text":"<ul> <li>But : Menu principal de l\u2019admin.</li> <li>Options :</li> <li>Gestion des \u00e9tudiants</li> <li>Gestion des classes</li> <li>Classement des \u00e9tudiants</li> <li>Moyennes par classe</li> <li>Exportation &amp; Rapports</li> <li>D\u00e9connexion</li> </ul>"},{"location":"AdminConsole/#gestion-des-etudiants","title":"\ud83c\udf93 Gestion des \u00e9tudiants","text":""},{"location":"AdminConsole/#menu_gestion_etudiantsself","title":"\ud83d\udcc2 <code>menu_gestion_etudiants(self)</code>","text":"<ul> <li>Affiche un sous-menu pour :</li> <li>cr\u00e9er, rechercher, modifier, supprimer,</li> <li>ajouter des notes.</li> </ul>"},{"location":"AdminConsole/#creer_etudiantself","title":"\u2795 <code>creer_etudiant(self)</code>","text":"<ul> <li>Lance <code>creer_etudiant_avec_numero()</code> apr\u00e8s avoir saisi un t\u00e9l\u00e9phone.</li> </ul>"},{"location":"AdminConsole/#creer_etudiant_avec_numeroself-tel","title":"\ud83d\udd01 <code>creer_etudiant_avec_numero(self, tel)</code>","text":"<ul> <li>Logique :</li> <li>V\u00e9rifie si \u00e9tudiant existe d\u00e9j\u00e0.</li> <li>Si utilisateur existe et est <code>etudiant</code> \u2192 convertit.</li> <li>Sinon : saisie manuelle compl\u00e8te.</li> <li>Permet aussi d\u2019ajouter des notes si une classe est affect\u00e9e.</li> </ul>"},{"location":"AdminConsole/#lister_etudiantsself","title":"\ud83d\udcc3 <code>lister_etudiants(self)</code>","text":"<ul> <li>Affiche un tableau avec :</li> <li>nom, pr\u00e9nom, t\u00e9l\u00e9phone, classe, moyenne.</li> </ul>"},{"location":"AdminConsole/#rechercher_etudiantself","title":"\ud83d\udd0d <code>rechercher_etudiant(self)</code>","text":"<ul> <li>Recherche un \u00e9tudiant :</li> <li>par nom, pr\u00e9nom, t\u00e9l\u00e9phone ou classe.</li> <li>Si pas trouv\u00e9 par t\u00e9l\u00e9phone : propose de le cr\u00e9er.</li> </ul>"},{"location":"AdminConsole/#ajouter_notesself","title":"\ud83d\udcdd <code>ajouter_notes(self)</code>","text":"<ul> <li>Permet \u00e0 l\u2019admin d\u2019ajouter/modifier des notes pour un \u00e9tudiant.</li> <li>Si pas de classe : peut lui affecter une.</li> <li>Demande les notes selon les mati\u00e8res d\u00e9finies dans la classe.</li> </ul>"},{"location":"AdminConsole/#modifier_etudiantself","title":"\u270f\ufe0f <code>modifier_etudiant(self)</code>","text":"<ul> <li>Mise \u00e0 jour des infos personnelles d\u2019un \u00e9tudiant.</li> </ul>"},{"location":"AdminConsole/#supprimer_etudiantself","title":"\u274c <code>supprimer_etudiant(self)</code>","text":"<ul> <li>Supprime un \u00e9tudiant apr\u00e8s confirmation.</li> </ul>"},{"location":"AdminConsole/#gestion-des-classes","title":"\ud83c\udfeb Gestion des classes","text":""},{"location":"AdminConsole/#menu_gestion_classesself","title":"\ud83d\udcc2 <code>menu_gestion_classes(self)</code>","text":"<ul> <li>Menu similaire \u00e0 celui des \u00e9tudiants (ajout, \u00e9dition, suppression...).</li> </ul> <p>Les m\u00e9thodes internes ne sont pas montr\u00e9es ici mais suivent la m\u00eame logique CRUD + cache.</p>"},{"location":"AdminConsole/#classement_etudiantsself","title":"\ud83c\udfc6 <code>classement_etudiants(self)</code>","text":"<ul> <li>Affiche le classement par moyenne :</li> <li>global ou par classe.</li> <li>possibilit\u00e9 de chercher un \u00e9tudiant sp\u00e9cifique.</li> </ul>"},{"location":"AdminConsole/#moyenne_par_classeself","title":"\ud83d\udcca <code>moyenne_par_classe(self)</code>","text":"<ul> <li>Liste chaque classe avec sa moyenne g\u00e9n\u00e9rale calcul\u00e9e.</li> </ul>"},{"location":"AdminConsole/#exportation-rapports","title":"\ud83d\udce4 Exportation &amp; Rapports","text":""},{"location":"AdminConsole/#menu_exportationself","title":"\ud83d\udce6 <code>menu_exportation(self)</code>","text":"<ul> <li>Menu d'export : CSV, JSON, PDF.</li> </ul>"},{"location":"AdminConsole/#exporter_etudiants_csvself","title":"\ud83e\uddfe <code>exporter_etudiants_csv(self)</code>","text":"<ul> <li>Export en <code>.csv</code> des \u00e9tudiants avec :</li> <li>infos personnelles, moyenne, notes.</li> </ul>"},{"location":"AdminConsole/#exporter_moyennes_jsonself","title":"\ud83e\uddee <code>exporter_moyennes_json(self)</code>","text":"<ul> <li>Fichier <code>.json</code> contenant :</li> <li>chaque classe + moyenne globale.</li> </ul>"},{"location":"AdminConsole/#exporter_etudiants_pdfself","title":"\ud83d\udcc4 <code>exporter_etudiants_pdf(self)</code>","text":"<ul> <li>G\u00e9n\u00e8re un fichier PDF format\u00e9 A4 :</li> <li>liste des \u00e9tudiants, leurs infos, leurs notes.</li> </ul>"},{"location":"AdminConsole/#exporter_etudiants_jsonself","title":"\ud83d\udcc4 <code>exporter_etudiants_json(self)</code>","text":"<ul> <li>Export JSON complet de chaque \u00e9tudiant :</li> <li>nom, pr\u00e9nom, contact, classe, moyenne, notes.</li> </ul>"},{"location":"AdminConsole/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>AdminConsole</code> est le panneau de gestion total.</li> <li>Utilise tous les repositories du syst\u00e8me.</li> <li>Chaque modification de donn\u00e9es efface les caches.</li> <li>Permet de g\u00e9rer les donn\u00e9es, les exports, et les performances du syst\u00e8me.</li> </ul>"},{"location":"AuthConsole/","title":"AuthConsole \u2013 Console de connexion et cr\u00e9ation de comptes","text":"<p>Cette classe est le point d\u2019entr\u00e9e du syst\u00e8me. Elle permet : - la connexion des utilisateurs (admin, enseignant, \u00e9tudiant), - la cr\u00e9ation de compte avec choix de r\u00f4le, - la redirection vers la console li\u00e9e au r\u00f4le.</p>"},{"location":"AuthConsole/#classe-authconsole","title":"Classe : AuthConsole","text":""},{"location":"AuthConsole/#__init__self","title":"\ud83e\uddf1 <code>__init__(self)</code>","text":"<ul> <li>But : Initialise la console.</li> <li>Composants :</li> <li><code>UtilisateurRepository()</code> : pour g\u00e9rer les comptes.</li> </ul>"},{"location":"AuthConsole/#afficher_menu_principalself","title":"\ud83d\udccb <code>afficher_menu_principal(self)</code>","text":"<ul> <li>But : Affiche le menu principal \u00e0 l\u2019ouverture du programme.</li> <li>Options :</li> <li>Se connecter</li> <li>Cr\u00e9er un compte</li> <li>Quitter</li> <li>Logique :</li> <li>Choix 1 \u2192 appelle <code>ecran_connexion()</code></li> <li>Choix 2 \u2192 appelle <code>ecran_creation_compte()</code></li> <li>Choix 3 \u2192 quitte proprement</li> </ul>"},{"location":"AuthConsole/#ecran_connexionself","title":"\ud83d\udd10 <code>ecran_connexion(self)</code>","text":"<ul> <li>But : Permet \u00e0 un utilisateur de se connecter.</li> <li>\u00c9tapes :</li> <li>Demande <code>email</code> et <code>mot_de_passe</code>.</li> <li>Utilise <code>UtilisateurRepository.authentifier()</code> :<ul> <li>Si OK \u2192 affiche message de bienvenue.</li> <li>Redirige vers :</li> <li><code>AdminConsole</code> si <code>role == admin</code></li> <li><code>EnseignantConsole</code> si <code>role == enseignant</code></li> <li><code>EtudiantConsole</code> si <code>role == etudiant</code></li> <li>Si KO \u2192 message d\u2019erreur.</li> </ul> </li> </ul>"},{"location":"AuthConsole/#ecran_creation_compteself","title":"\ud83c\udd95 <code>ecran_creation_compte(self)</code>","text":"<ul> <li>But : Cr\u00e9e un nouveau compte utilisateur.</li> <li>\u00c9tapes :</li> <li>Demande infos : <code>nom</code>, <code>pr\u00e9nom</code>, <code>t\u00e9l\u00e9phone</code>, <code>email</code>, <code>mot_de_passe</code>.</li> <li>Affiche un menu pour choisir le r\u00f4le :<ul> <li>1 \u2192 <code>etudiant</code></li> <li>2 \u2192 <code>enseignant</code></li> <li>3 \u2192 <code>admin</code></li> </ul> </li> <li>Cr\u00e9e un objet <code>Utilisateur</code>.</li> <li>Appelle <code>UtilisateurRepository.creer_utilisateur()</code> pour insertion.</li> <li>Affiche un message de confirmation ou d\u2019\u00e9chec.</li> </ul>"},{"location":"AuthConsole/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>AuthConsole</code> est le premier contact de l\u2019utilisateur avec le syst\u00e8me.</li> <li>Elle fait le pont entre l\u2019authentification et les interfaces (admin, prof, \u00e9tudiant).</li> <li>Toute la logique d'acc\u00e8s au syst\u00e8me passe par elle.</li> <li>La validation de r\u00f4le est directe, le routage est propre.</li> </ul>"},{"location":"Classe/","title":"Classe \u2013 Repr\u00e9sente une classe d\u2019\u00e9l\u00e8ves (ex: Terminale S)","text":"<p>Cette classe mod\u00e9lise une classe scolaire (Terminale A, 5e, etc.) avec ses mati\u00e8res et infos associ\u00e9es.</p>"},{"location":"Classe/#classe-classe","title":"Classe : Classe","text":""},{"location":"Classe/#__init__self-nom-niveau-annee_scolaire-matieresnone","title":"\ud83e\uddf1 <code>__init__(self, nom, niveau, annee_scolaire, matieres=None)</code>","text":"<ul> <li>But : Initialise une instance de classe scolaire.</li> <li>Attributs :</li> <li><code>nom</code> : nom de la classe (ex: \"3e A\").</li> <li><code>niveau</code> : niveau (ex: \"Coll\u00e8ge\", \"Lyc\u00e9e\").</li> <li><code>annee_scolaire</code> : ann\u00e9e (ex: \"2024-2025\").</li> <li><code>matieres</code> : liste des mati\u00e8res enseign\u00e9es (optionnelle).</li> <li>Logique : Si <code>matieres</code> est <code>None</code>, initialise avec une liste vide.</li> </ul>"},{"location":"Classe/#ajouter_matiereself-matiere","title":"\u2795 <code>ajouter_matiere(self, matiere)</code>","text":"<ul> <li>But : Ajoute une mati\u00e8re \u00e0 la classe si elle n\u2019est pas d\u00e9j\u00e0 pr\u00e9sente.</li> <li>Param\u00e8tre : <code>matiere</code> (ex: \"Maths\").</li> <li>Contr\u00f4le : \u00c9vite les doublons.</li> </ul>"},{"location":"Classe/#supprimer_matiereself-matiere","title":"\u2796 <code>supprimer_matiere(self, matiere)</code>","text":"<ul> <li>But : Supprime une mati\u00e8re si elle existe dans la liste.</li> <li>Retour :</li> <li><code>True</code> si supprim\u00e9e.</li> <li><code>False</code> si elle n'\u00e9tait pas pr\u00e9sente.</li> </ul>"},{"location":"Classe/#to_dictself","title":"\ud83d\udd04 <code>to_dict(self)</code>","text":"<ul> <li>But : Convertit l\u2019objet <code>Classe</code> en dictionnaire utilisable pour MongoDB.</li> <li>Retour : dictionnaire avec <code>nom</code>, <code>niveau</code>, <code>annee_scolaire</code>, <code>matieres</code>.</li> </ul>"},{"location":"Classe/#staticmethod-from_dictdata","title":"\ud83e\uddec <code>@staticmethod from_dict(data)</code>","text":"<ul> <li>But : Recr\u00e9e un objet <code>Classe</code> \u00e0 partir d\u2019un dictionnaire venant de MongoDB.</li> <li>Param\u00e8tre : <code>data</code> (dict avec les attributs de la classe).</li> <li>Retour : instance de <code>Classe</code>.</li> </ul>"},{"location":"Classe/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<p>La classe <code>Classe</code> sert \u00e0 : - Cr\u00e9er une entit\u00e9 logique de classe (Terminale, Seconde...). - Ajouter ou retirer des mati\u00e8res. - Pr\u00e9parer les donn\u00e9es pour Mongo (via <code>to_dict()</code>). - \u00catre recharg\u00e9e depuis Mongo (via <code>from_dict()</code>).</p> <p>Elle est manipul\u00e9e principalement dans <code>ClasseRepository</code> pour la persistance et la gestion.</p>"},{"location":"ClasseRepository/","title":"ClasseRepository \u2013 Interface entre les objets Classe et la base de donn\u00e9es","text":"<p>Cette classe g\u00e8re toutes les op\u00e9rations li\u00e9es aux classes : - cr\u00e9ation, - recherche, - modification, - suppression, - gestion des mati\u00e8res, tout cela via MongoDB + cache Redis.</p>"},{"location":"ClasseRepository/#classe-classerepository","title":"Classe : ClasseRepository","text":""},{"location":"ClasseRepository/#__init__self","title":"\ud83e\uddf1 <code>__init__(self)</code>","text":"<ul> <li>But : Initialise le repository.</li> <li>Composants :</li> <li><code>MongoDB()</code> : acc\u00e8s base principale.</li> <li><code>RedisDB()</code> : cache.</li> <li><code>collection_name = \"classes\"</code> : nom de la collection Mongo utilis\u00e9e.</li> </ul>"},{"location":"ClasseRepository/#creer_classeself-classe","title":"\ud83c\udd95 <code>creer_classe(self, classe)</code>","text":"<ul> <li>But : Cr\u00e9e une nouvelle classe si elle n\u2019existe pas d\u00e9j\u00e0.</li> <li>Logique :</li> <li>V\u00e9rifie si le nom est d\u00e9j\u00e0 pris dans Mongo.</li> <li>Si non \u2192 ins\u00e8re via <code>MongoDB.insert</code>.</li> <li>Invalide les caches associ\u00e9s (<code>classes:all</code>).</li> <li>Retour :</li> <li><code>ObjectId</code> si succ\u00e8s.</li> <li><code>None</code> si \u00e9chec.</li> </ul>"},{"location":"ClasseRepository/#rechercher_par_nomself-nom","title":"\ud83d\udd0d <code>rechercher_par_nom(self, nom)</code>","text":"<ul> <li>But : Recherche une classe par son nom.</li> <li>\u00c9tapes :</li> <li>V\u00e9rifie dans Redis avec cl\u00e9 <code>classe:&lt;nom&gt;</code>.</li> <li>Si cache vide \u2192 requ\u00eate Mongo.</li> <li>Met \u00e0 jour le cache avec expiration.</li> <li>Retour :</li> <li>Instance de <code>Classe</code>, ou <code>None</code>.</li> </ul>"},{"location":"ClasseRepository/#lister_toutesself","title":"\ud83d\udcdc <code>lister_toutes(self)</code>","text":"<ul> <li>But : R\u00e9cup\u00e8re toutes les classes.</li> <li>Logique :</li> <li>Cache Redis <code>classes:all</code>.</li> <li>Si absent, va chercher en Mongo.</li> <li>Mets \u00e0 jour le cache.</li> <li>Retour :</li> <li>Liste d\u2019objets <code>Classe</code>.</li> </ul>"},{"location":"ClasseRepository/#ajouter_matiereself-nom_classe-matiere","title":"\u2795 <code>ajouter_matiere(self, nom_classe, matiere)</code>","text":"<ul> <li>But : Ajoute une mati\u00e8re dans une classe existante.</li> <li>Requ\u00eate Mongo : <code>{\"$push\": {\"matieres\": matiere}}</code>.</li> <li>Nettoyage cache :</li> <li>Supprime <code>classe:&lt;nom&gt;</code> et <code>classes:all</code>.</li> </ul>"},{"location":"ClasseRepository/#supprimer_matiereself-nom_classe-matiere","title":"\u2796 <code>supprimer_matiere(self, nom_classe, matiere)</code>","text":"<ul> <li>But : Retire une mati\u00e8re de la classe.</li> <li>Requ\u00eate Mongo : <code>{\"$pull\": {\"matieres\": matiere}}</code>.</li> <li>M\u00eames effets sur le cache que <code>ajouter_matiere</code>.</li> </ul>"},{"location":"ClasseRepository/#modifier_classeself-nom-nouvelles_donnees","title":"\u270f\ufe0f <code>modifier_classe(self, nom, nouvelles_donnees)</code>","text":"<ul> <li>But : Met \u00e0 jour les attributs d'une classe (nom, ann\u00e9e, niveau, etc.).</li> <li>Requ\u00eate Mongo : <code>{\"$set\": nouvelles_donnees}</code>.</li> <li>Efface le cache pour assurer coh\u00e9rence.</li> </ul>"},{"location":"ClasseRepository/#supprimer_classeself-nom","title":"\u274c <code>supprimer_classe(self, nom)</code>","text":"<ul> <li>But : Supprime une classe par son nom.</li> <li>Actions :</li> <li>Supprime de Mongo.</li> <li>Nettoie plusieurs cl\u00e9s Redis :<ul> <li><code>classe:&lt;nom&gt;</code></li> <li><code>classes:all</code></li> <li><code>classe:&lt;nom&gt;:etudiants</code></li> </ul> </li> </ul>"},{"location":"ClasseRepository/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>ClasseRepository</code> est l\u2019interface entre les objets <code>Classe</code> et les bases de donn\u00e9es.</li> <li>Chaque m\u00e9thode s\u2019assure de nettoyer les caches apr\u00e8s une modification.</li> <li>Le code exploite le cache Redis pour \u00e9viter les requ\u00eates r\u00e9p\u00e9t\u00e9es en lecture.</li> <li>Ce repository est utilis\u00e9 dans :</li> <li><code>AdminConsole</code></li> <li><code>EtudiantRepository</code></li> <li><code>EnseignantConsole</code></li> </ul>"},{"location":"EnseignantConsole/","title":"EnseignantConsole \u2013 Interface d\u00e9di\u00e9e aux enseignants","text":"<p>Cette console permet \u00e0 un enseignant : - de g\u00e9rer les notes des \u00e9tudiants, - de voir la liste des \u00e9l\u00e8ves, - de consulter les statistiques par classe.</p>"},{"location":"EnseignantConsole/#classe-enseignantconsole","title":"Classe : EnseignantConsole","text":""},{"location":"EnseignantConsole/#__init__self-utilisateur","title":"\ud83e\uddf1 <code>__init__(self, utilisateur)</code>","text":"<ul> <li>But : Initialise la console enseignant avec :</li> <li>l\u2019utilisateur connect\u00e9,</li> <li>les repositories <code>Utilisateur</code>, <code>Etudiant</code>, <code>Classe</code>.</li> <li>Auto-chargement : Aucun \u00e9tudiant n\u2019est directement li\u00e9 \u00e0 l\u2019enseignant ici (pas de restriction).</li> </ul>"},{"location":"EnseignantConsole/#afficher_menu_principalself","title":"\ud83d\udccb <code>afficher_menu_principal(self)</code>","text":"<ul> <li>But : Affiche les options de gestion disponibles pour le professeur.</li> <li>Options :</li> <li>Ajouter / Modifier des notes</li> <li>Liste des \u00e9tudiants</li> <li>Statistiques par classe</li> <li>Se d\u00e9connecter</li> </ul>"},{"location":"EnseignantConsole/#menu_gestion_notesself","title":"\ud83d\udcdd <code>menu_gestion_notes(self)</code>","text":"<ul> <li>But : Permet \u00e0 l\u2019enseignant d\u2019entrer/modifier des notes.</li> <li>\u00c9tapes :</li> <li>Saisir t\u00e9l\u00e9phone \u00e9tudiant.</li> <li>V\u00e9rifie si l'\u00e9tudiant existe + a une classe.</li> <li>R\u00e9cup\u00e8re les mati\u00e8res de la classe.</li> <li>Demande les notes une par une.</li> <li>Validation :</li> <li>Chaque note doit \u00eatre entre 0 et 20.</li> <li>Notes invalides sont ignor\u00e9es.</li> </ul>"},{"location":"EnseignantConsole/#alertes-integrees","title":"\ud83d\udd14 Alertes int\u00e9gr\u00e9es","text":""},{"location":"EnseignantConsole/#cas-dalerte","title":"\ud83d\udd3b Cas d\u2019alerte :","text":"<ol> <li>Note &lt; 10</li> <li>Moyenne par mati\u00e8re &lt; 10</li> <li>Moyenne g\u00e9n\u00e9rale &lt; 10</li> </ol>"},{"location":"EnseignantConsole/#envoyer_alerteself-etudiant-matiere-valeur-raison","title":"\ud83d\udce7 <code>envoyer_alerte(self, etudiant, matiere, valeur, raison)</code>","text":"<ul> <li>But : Envoie un mail d\u2019alerte \u00e0 l\u2019\u00e9tudiant concern\u00e9.</li> <li>Logique :</li> <li>Diff\u00e9rents messages selon le type d\u2019alerte.</li> <li>Utilise la fonction <code>envoyer_email()</code> pour la notification.</li> </ul>"},{"location":"EnseignantConsole/#afficher_liste_etudiantsself","title":"\ud83d\udcc3 <code>afficher_liste_etudiants(self)</code>","text":"<ul> <li>But : Affiche tous les \u00e9tudiants avec :</li> <li>Nom, pr\u00e9nom, t\u00e9l\u00e9phone, classe, moyenne.</li> <li>Source : via <code>EtudiantRepository.lister_tous()</code>.</li> </ul>"},{"location":"EnseignantConsole/#afficher_statistiquesself","title":"\ud83d\udcca <code>afficher_statistiques(self)</code>","text":"<ul> <li>But : Moyenne g\u00e9n\u00e9rale de chaque classe.</li> <li>Source : <code>ClasseRepository.lister_toutes()</code> + <code>EtudiantRepository.calculer_moyenne_classe()</code>.</li> </ul>"},{"location":"EnseignantConsole/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>EnseignantConsole</code> permet un acc\u00e8s cibl\u00e9 :</li> <li>uniquement sur les notes et performances.</li> <li>Elle n\u2019a aucun droit de modifier les profils ou supprimer des donn\u00e9es.</li> <li>Elle agit en collaboration avec les repositories, mais avec des contr\u00f4les stricts.</li> <li>Le syst\u00e8me d\u2019alerte permet une vraie communication p\u00e9dagogique proactive.</li> </ul>"},{"location":"Etudiant/","title":"Etudiant \u2013 Repr\u00e9sente un \u00e9l\u00e8ve avec ses informations et notes","text":"<p>Cette classe repr\u00e9sente un \u00e9tudiant avec : - des infos personnelles - sa classe d\u2019affectation - ses notes par mati\u00e8re</p>"},{"location":"Etudiant/#classe-etudiant","title":"Classe : Etudiant","text":""},{"location":"Etudiant/#__init__self-nom-prenom-telephone-email-classenone-notesnone","title":"\ud83e\uddf1 <code>__init__(self, nom, prenom, telephone, email, classe=None, notes=None)</code>","text":"<ul> <li>But : Initialise un nouvel \u00e9tudiant.</li> <li>Attributs :</li> <li><code>nom</code>, <code>prenom</code>, <code>telephone</code>, <code>email</code> : donn\u00e9es personnelles.</li> <li><code>classe</code> : classe associ\u00e9e (string ou None).</li> <li><code>notes</code> : dictionnaire <code>{mati\u00e8re: note}</code>.</li> <li>Remarque : <code>notes</code> est vide par d\u00e9faut si non fourni.</li> </ul>"},{"location":"Etudiant/#calculer_moyenneself","title":"\ud83e\uddee <code>calculer_moyenne(self)</code>","text":"<ul> <li>But : Calcule la moyenne g\u00e9n\u00e9rale de l\u2019\u00e9l\u00e8ve.</li> <li>Retour :</li> <li>Moyenne arrondie \u00e0 deux d\u00e9cimales.</li> <li><code>0</code> si aucune note.</li> </ul>"},{"location":"Etudiant/#ajouter_noteself-matiere-note","title":"\u2795 <code>ajouter_note(self, matiere, note)</code>","text":"<ul> <li>But : Ajoute ou met \u00e0 jour une note pour une mati\u00e8re.</li> <li>Contr\u00f4le :</li> <li>Note doit \u00eatre entre 0 et 20.</li> <li>Retour :</li> <li><code>True</code> si la note est valide et ajout\u00e9e.</li> <li><code>False</code> sinon.</li> </ul>"},{"location":"Etudiant/#supprimer_noteself-matiere","title":"\u2796 <code>supprimer_note(self, matiere)</code>","text":"<ul> <li>But : Supprime la note d\u2019une mati\u00e8re sp\u00e9cifique.</li> <li>Retour :</li> <li><code>True</code> si la mati\u00e8re existait.</li> <li><code>False</code> sinon.</li> </ul>"},{"location":"Etudiant/#afficher_infosself","title":"\ud83d\udc41 <code>afficher_infos(self)</code>","text":"<ul> <li>But : Retourne une cha\u00eene contenant toutes les infos de l\u2019\u00e9tudiant (y compris notes et moyenne).</li> <li>Format :</li> </ul>"},{"location":"EtudiantConsole/","title":"EtudiantConsole \u2013 Interface d\u00e9di\u00e9e \u00e0 l'\u00e9tudiant connect\u00e9","text":"<p>Cette console permet \u00e0 l'\u00e9tudiant : - de consulter ses notes, - de voir son classement, - de modifier ses informations personnelles.</p>"},{"location":"EtudiantConsole/#classe-etudiantconsole","title":"Classe : EtudiantConsole","text":""},{"location":"EtudiantConsole/#__init__self-utilisateur","title":"\ud83e\uddf1 <code>__init__(self, utilisateur)</code>","text":"<ul> <li>But : Initialise la console \u00e9tudiante.</li> <li>Logique :</li> <li>Charge automatiquement l\u2019objet <code>Etudiant</code> via son t\u00e9l\u00e9phone.</li> <li>Si aucun \u00e9tudiant n\u2019est trouv\u00e9 : message d\u2019erreur et retour au menu principal.</li> </ul>"},{"location":"EtudiantConsole/#afficher_menu_principalself","title":"\ud83d\udccb <code>afficher_menu_principal(self)</code>","text":"<ul> <li>But : Affiche le menu d\u00e9di\u00e9 \u00e0 l\u2019\u00e9l\u00e8ve connect\u00e9.</li> <li>Options :</li> <li>Consulter mes notes</li> <li>Consulter mon classement</li> <li>Modifier mes informations</li> <li>Se d\u00e9connecter</li> </ul>"},{"location":"EtudiantConsole/#consulter_notesself","title":"\ud83e\uddfe <code>consulter_notes(self)</code>","text":"<ul> <li>But : Affiche les notes personnelles de l\u2019\u00e9tudiant.</li> <li>Format :</li> <li>Liste des mati\u00e8res avec notes.</li> <li> <p>Moyenne g\u00e9n\u00e9rale.</p> </li> <li> <p>Condition :</p> </li> <li>Si aucune note : message informatif.</li> </ul>"},{"location":"EtudiantConsole/#consulter_classementself","title":"\ud83c\udfc5 <code>consulter_classement(self)</code>","text":"<ul> <li>But : Affiche le classement de l'\u00e9tudiant dans sa propre classe.</li> <li>\u00c9tapes :</li> <li>V\u00e9rifie que l\u2019\u00e9tudiant a une classe.</li> <li>R\u00e9cup\u00e8re tous les \u00e9tudiants de cette classe.</li> <li>Trie par moyenne.</li> <li> <p>Affiche le rang de l\u2019\u00e9tudiant.</p> </li> <li> <p>Message sp\u00e9cial :</p> </li> <li>Affiche une m\u00e9daille avec le rang (\ud83c\udfc5).</li> </ul>"},{"location":"EtudiantConsole/#modifier_informationsself","title":"\u270f\ufe0f <code>modifier_informations(self)</code>","text":"<ul> <li>But : Permet \u00e0 l\u2019\u00e9tudiant de modifier ses informations :</li> <li>nom, pr\u00e9nom, email, t\u00e9l\u00e9phone.</li> <li>Logique :</li> <li>Laisse chaque champ vide pour ne pas le modifier.</li> <li>Applique les modifications uniquement si des valeurs ont \u00e9t\u00e9 saisies.</li> <li> <p>Met \u00e0 jour l\u2019objet local apr\u00e8s modification.</p> </li> <li> <p>Retour utilisateur :</p> </li> <li>Message de confirmation ou d\u2019\u00e9chec.</li> </ul>"},{"location":"EtudiantConsole/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>EtudiantConsole</code> est centr\u00e9e sur l\u2019exp\u00e9rience individuelle.</li> <li>Elle donne acc\u00e8s uniquement aux infos personnelles et \u00e0 la performance scolaire.</li> <li>L\u2019\u00e9tudiant ne peut modifier que ses propres donn\u00e9es, pas celles des autres.</li> <li>C\u2019est une interface simple, s\u00e9curis\u00e9e et utile.</li> </ul>"},{"location":"EtudiantRepository/","title":"EtudiantRepository \u2013 G\u00e8re les \u00e9tudiants dans MongoDB + Redis","text":"<p>Ce repository centralise toutes les op\u00e9rations concernant les \u00e9tudiants : - cr\u00e9ation, - recherche, - modification, - suppression, - gestion des notes, - calculs de moyenne, - tri, - export...</p>"},{"location":"EtudiantRepository/#classe-etudiantrepository","title":"Classe : EtudiantRepository","text":""},{"location":"EtudiantRepository/#__init__self","title":"\ud83e\uddf1 <code>__init__(self)</code>","text":"<ul> <li>But : Initialise le repository.</li> <li>Composants :</li> <li><code>MongoDB()</code> : acc\u00e8s base principale.</li> <li><code>RedisDB()</code> : syst\u00e8me de cache.</li> <li><code>collection_name = \"etudiants\"</code> : nom Mongo utilis\u00e9.</li> </ul>"},{"location":"EtudiantRepository/#creer_etudiantself-etudiant","title":"\ud83c\udd95 <code>creer_etudiant(self, etudiant)</code>","text":"<ul> <li>But : Enregistre un nouvel \u00e9tudiant.</li> <li>Logique :</li> <li>V\u00e9rifie unicit\u00e9 du <code>telephone</code>.</li> <li>V\u00e9rifie que les notes (si pr\u00e9sentes) sont valides (0\u201320).</li> <li>Ins\u00e8re dans Mongo.</li> <li>Met en cache avec cl\u00e9 <code>etudiant:&lt;tel&gt;</code>.</li> </ul>"},{"location":"EtudiantRepository/#creer_depuis_utilisateurself-utilisateur-classenone","title":"\ud83e\udde9 <code>creer_depuis_utilisateur(self, utilisateur, classe=None)</code>","text":"<ul> <li>But : Transforme un <code>Utilisateur</code> en <code>Etudiant</code>.</li> <li>Condition : uniquement si <code>utilisateur.role == \"etudiant\"</code>.</li> <li>Utilit\u00e9 : convertir les comptes cr\u00e9\u00e9s en vrais \u00e9tudiants.</li> </ul>"},{"location":"EtudiantRepository/#rechercher_par_telephoneself-telephone","title":"\ud83d\udd0d <code>rechercher_par_telephone(self, telephone)</code>","text":"<ul> <li>But : Recherche un \u00e9tudiant via son num\u00e9ro.</li> <li>Logique :</li> <li>Cherche d\u2019abord dans Redis.</li> <li>Sinon \u2192 Mongo, puis enregistre dans le cache.</li> <li>Retour :</li> <li><code>Etudiant</code> ou <code>None</code>.</li> </ul>"},{"location":"EtudiantRepository/#rechercher_par_nom_prenomself-nom-prenomnone","title":"\ud83d\udd0d <code>rechercher_par_nom_prenom(self, nom, prenom=None)</code>","text":"<ul> <li>But : Recherche des \u00e9tudiants par nom/pr\u00e9nom.</li> <li>Mongo : Utilise des regex pour recherche partielle.</li> <li>Cache : utilise <code>find_with_cache()</code> de Redis pour performance.</li> <li>Retour : liste d\u2019objets <code>Etudiant</code>.</li> </ul>"},{"location":"EtudiantRepository/#rechercher_par_classeself-classe","title":"\ud83c\udfeb <code>rechercher_par_classe(self, classe)</code>","text":"<ul> <li>But : R\u00e9cup\u00e8re tous les \u00e9tudiants d\u2019une classe donn\u00e9e.</li> <li>Cache : cl\u00e9 <code>classe:&lt;nom&gt;:etudiants</code>.</li> <li>Retour : liste d\u2019objets <code>Etudiant</code>.</li> </ul>"},{"location":"EtudiantRepository/#lister_tousself","title":"\ud83d\udcdc <code>lister_tous(self)</code>","text":"<ul> <li>But : Liste de tous les \u00e9tudiants.</li> <li>Cache : cl\u00e9 <code>etudiants:all</code>.</li> <li>Mongo : si cache manquant.</li> <li>Retour : liste <code>Etudiant</code>.</li> </ul>"},{"location":"EtudiantRepository/#ajouter_noteself-telephone-matiere-note","title":"\ud83d\udcdd <code>ajouter_note(self, telephone, matiere, note)</code>","text":"<ul> <li>But : Ajoute/modifie une note pour un \u00e9tudiant.</li> <li>Condition : note entre 0 et 20.</li> <li>Efface : tous les caches associ\u00e9s \u00e0 l\u2019\u00e9tudiant et sa classe.</li> </ul>"},{"location":"EtudiantRepository/#modifier_etudiantself-telephone-nouvelles_donnees","title":"\u270f\ufe0f <code>modifier_etudiant(self, telephone, nouvelles_donnees)</code>","text":"<ul> <li>But : Met \u00e0 jour les infos d\u2019un \u00e9tudiant.</li> <li>V\u00e9rifie : que les notes restent valides si fournies.</li> <li>Efface : tous les caches impact\u00e9s (\u00e9tudiant + classe si modifi\u00e9e).</li> </ul>"},{"location":"EtudiantRepository/#supprimer_etudiantself-telephone","title":"\u274c <code>supprimer_etudiant(self, telephone)</code>","text":"<ul> <li>But : Supprime un \u00e9tudiant de MongoDB.</li> <li>Efface : tous les caches li\u00e9s (profil, classe, liste globale).</li> <li>Retour : <code>True</code> si suppression OK, sinon <code>False</code>.</li> </ul>"},{"location":"EtudiantRepository/#trier_par_moyenneself-classenone-limitnone","title":"\ud83d\udcca <code>trier_par_moyenne(self, classe=None, limit=None)</code>","text":"<ul> <li>But : Retourne les \u00e9tudiants tri\u00e9s par moyenne (d\u00e9croissant).</li> <li>Filtrage : optionnel par classe.</li> <li>Limit : optionnel \u2192 top N.</li> <li>Retour : liste ordonn\u00e9e d\u2019objets <code>Etudiant</code>.</li> </ul>"},{"location":"EtudiantRepository/#calculer_moyenne_classeself-classe","title":"\ud83e\uddee <code>calculer_moyenne_classe(self, classe)</code>","text":"<ul> <li>But : Moyenne g\u00e9n\u00e9rale des \u00e9tudiants d\u2019une classe.</li> <li>Retour :</li> <li><code>0.0</code> si aucun \u00e9tudiant.</li> <li>Moyenne arrondie sinon.</li> </ul>"},{"location":"EtudiantRepository/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>EtudiantRepository</code> est la colonne vert\u00e9brale pour tout ce qui touche aux \u00e9l\u00e8ves.</li> <li>Toutes les consoles (admin, enseignant, \u00e9tudiant) l\u2019utilisent.</li> <li>Les caches sont syst\u00e9matiquement g\u00e9r\u00e9s pour \u00e9viter les redondances.</li> <li>C\u2019est le repository le plus riche fonctionnellement de l\u2019application.</li> </ul>"},{"location":"Utilisateur/","title":"Utilisateur \u2013 Repr\u00e9sente un compte utilisateur de la plateforme","text":"<p>Cette classe g\u00e8re les donn\u00e9es de tout utilisateur (admin, enseignant, \u00e9tudiant).</p>"},{"location":"Utilisateur/#classe-utilisateur","title":"Classe : Utilisateur","text":""},{"location":"Utilisateur/#attributs-principaux","title":"\ud83d\udc65 Attributs principaux","text":"<ul> <li><code>nom</code>, <code>prenom</code>, <code>telephone</code>, <code>email</code> : informations d\u2019identit\u00e9.</li> <li><code>mot_de_passe</code> : mot de passe (en clair \u00e0 la cr\u00e9ation, hach\u00e9 ensuite).</li> <li><code>role</code> : un des r\u00f4les d\u00e9finis dans <code>ROLES</code>.</li> </ul>"},{"location":"Utilisateur/#roles-admin-enseignant-etudiant","title":"\ud83d\udd01 <code>ROLES = [\"admin\", \"enseignant\", \"etudiant\"]</code>","text":"<ul> <li>D\u00e9finition des r\u00f4les possibles pour les utilisateurs.</li> <li>Si un r\u00f4le non reconnu est pass\u00e9 \u2192 assign\u00e9 \u00e0 \"etudiant\" par d\u00e9faut.</li> </ul>"},{"location":"Utilisateur/#__init__self-nom-prenom-telephone-email-mot_de_passe-roleetudiant","title":"\ud83e\uddf1 <code>__init__(self, nom, prenom, telephone, email, mot_de_passe, role=\"etudiant\")</code>","text":"<ul> <li>But : Cr\u00e9e un nouvel utilisateur.</li> <li>Logique :</li> <li>Le r\u00f4le est v\u00e9rifi\u00e9.</li> <li>Si non reconnu \u2192 assignation par d\u00e9faut \u00e0 <code>\"etudiant\"</code>.</li> </ul>"},{"location":"Utilisateur/#afficher_infosself","title":"\ud83d\udc41 <code>afficher_infos(self)</code>","text":"<ul> <li>But : Retourne un r\u00e9sum\u00e9 textuel sans mot de passe.</li> <li>Format :</li> </ul>"},{"location":"UtilisateurRepository/","title":"UtilisateurRepository \u2013 G\u00e8re l\u2019enregistrement, l\u2019authentification et la gestion des comptes utilisateurs","text":"<p>Ce repository permet : - de cr\u00e9er un compte utilisateur, - de le connecter via mot de passe (bcrypt), - de g\u00e9rer sessions et r\u00f4les, - de modifier mot de passe et r\u00f4le, - de v\u00e9rifier des tokens d\u2019authentification.</p>"},{"location":"UtilisateurRepository/#classe-utilisateurrepository","title":"Classe : UtilisateurRepository","text":""},{"location":"UtilisateurRepository/#__init__self","title":"\ud83e\uddf1 <code>__init__(self)</code>","text":"<ul> <li>But : Initialise le repository.</li> <li>Composants :</li> <li><code>MongoDB()</code> : acc\u00e8s base principale.</li> <li><code>RedisDB()</code> : syst\u00e8me de cache.</li> <li><code>collection_name = \"utilisateurs\"</code></li> <li><code>session_collection = \"sessions\"</code></li> </ul>"},{"location":"UtilisateurRepository/#creer_utilisateurself-utilisateur-rolenone","title":"\ud83c\udd95 <code>creer_utilisateur(self, utilisateur, role=None)</code>","text":"<ul> <li>But : Cr\u00e9e un nouvel utilisateur.</li> <li>V\u00e9rifie :</li> <li>Email et t\u00e9l\u00e9phone non utilis\u00e9s.</li> <li>Hashage :</li> <li>Mot de passe est hach\u00e9 avec <code>bcrypt</code>.</li> <li>Insertion : dans MongoDB.</li> <li>Retour :</li> <li><code>ObjectId</code> si succ\u00e8s.</li> <li><code>None</code> sinon.</li> </ul>"},{"location":"UtilisateurRepository/#authentifierself-email-mot_de_passe","title":"\ud83d\udd10 <code>authentifier(self, email, mot_de_passe)</code>","text":"<ul> <li>But : Authentifie un utilisateur via son email + mot de passe.</li> <li>\u00c9tapes :</li> <li>V\u00e9rifie d\u2019abord dans Redis (<code>auth:&lt;email&gt;</code>).</li> <li>Si absent \u2192 recherche Mongo, compare mot de passe hach\u00e9.</li> <li>Si OK :<ul> <li>G\u00e9n\u00e8re un <code>token</code> UUID.</li> <li>Cr\u00e9e une session Mongo avec expiration (1h).</li> <li>Cache les donn\u00e9es dans Redis (avec token).</li> </ul> </li> <li>Retour :</li> <li><code>(Utilisateur, token)</code> si succ\u00e8s.</li> <li><code>(None, None)</code> si \u00e9chec.</li> </ul>"},{"location":"UtilisateurRepository/#deconnecterself-email","title":"\ud83d\udeaa <code>deconnecter(self, email)</code>","text":"<ul> <li>But : Supprime la session d\u2019un utilisateur (Mongo + Redis).</li> </ul>"},{"location":"UtilisateurRepository/#verifier_tokenself-token","title":"\ud83e\uddfe <code>verifier_token(self, token)</code>","text":"<ul> <li>But : V\u00e9rifie la validit\u00e9 d\u2019un token de session.</li> <li>Logique :</li> <li>Cherche en Mongo.</li> <li>Si token expir\u00e9 \u2192 supprime la session.</li> <li>Retour :</li> <li>Dictionnaire session si valide.</li> <li><code>None</code> sinon.</li> </ul>"},{"location":"UtilisateurRepository/#modifier_mot_de_passeself-email-ancien-nouveau","title":"\ud83d\udd11 <code>modifier_mot_de_passe(self, email, ancien, nouveau)</code>","text":"<ul> <li>But : Change le mot de passe apr\u00e8s v\u00e9rification de l\u2019ancien.</li> <li>Logique :</li> <li>Compare mot de passe avec <code>bcrypt.checkpw</code>.</li> <li>Hash le nouveau.</li> <li>Met \u00e0 jour en Mongo.</li> <li>D\u00e9connecte l\u2019utilisateur (force reconnexion).</li> <li>Retour :</li> <li><code>True</code> si OK.</li> <li><code>False</code> sinon.</li> </ul>"},{"location":"UtilisateurRepository/#modifier_roleself-email-nouveau_role","title":"\ud83c\udfad <code>modifier_role(self, email, nouveau_role)</code>","text":"<ul> <li>But : Change le r\u00f4le d\u2019un utilisateur.</li> <li>Validation : r\u00f4le doit faire partie de <code>Utilisateur.ROLES</code>.</li> <li>Efface : le cache auth Redis (<code>auth:&lt;email&gt;</code>).</li> </ul>"},{"location":"UtilisateurRepository/#rechercher_par_telephoneself-telephone","title":"\ud83d\udd0d <code>rechercher_par_telephone(self, telephone)</code>","text":"<ul> <li>But : Recherche un utilisateur via son t\u00e9l\u00e9phone.</li> <li>Retour : objet <code>Utilisateur</code> ou <code>None</code>.</li> </ul>"},{"location":"UtilisateurRepository/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>UtilisateurRepository</code> est le c\u0153ur de la gestion des comptes.</li> <li>Il g\u00e8re :</li> <li>la s\u00e9curit\u00e9 via <code>bcrypt</code>,</li> <li>les sessions temporaires via MongoDB et Redis,</li> <li>les r\u00f4les et permissions.</li> <li>Utilis\u00e9 principalement dans :</li> <li><code>AuthConsole</code></li> <li><code>AdminConsole</code></li> <li><code>EtudiantConsole</code></li> <li><code>EnseignantConsole</code></li> </ul>"},{"location":"mongo/","title":"MongoDB \u2013 Singleton pour la base de donn\u00e9es Mongo","text":"<p>Ce fichier contient une classe <code>MongoDB</code> permettant d\u2019interagir avec une base MongoDB en utilisant le patron de conception Singleton.</p>"},{"location":"mongo/#classe-mongodb","title":"Classe : MongoDB","text":""},{"location":"mongo/#__new__cls","title":"\ud83d\udd01 <code>__new__(cls)</code>","text":"<ul> <li>But : Impl\u00e9mente le pattern Singleton : une seule instance de la classe sera cr\u00e9\u00e9e.</li> <li>Logique :</li> <li>Si aucune instance n\u2019existe (<code>_instance is None</code>), on en cr\u00e9e une.</li> <li>Elle se connecte \u00e0 MongoDB via l\u2019URI d\u00e9fini dans <code>config.py</code>.</li> <li>La base est s\u00e9lectionn\u00e9e avec <code>MONGO_DB_NAME</code>.</li> </ul>"},{"location":"mongo/#insertself-collection_name-data","title":"\u2705 <code>insert(self, collection_name, data)</code>","text":"<ul> <li>But : Ins\u00e8re un document dans une collection.</li> <li>Param\u00e8tres :</li> <li><code>collection_name</code> : nom de la collection Mongo.</li> <li><code>data</code> : dictionnaire \u00e0 ins\u00e9rer.</li> <li>Retour : l\u2019<code>ObjectId</code> du document ins\u00e9r\u00e9.</li> </ul>"},{"location":"mongo/#findself-collection_name-query","title":"\ud83d\udd0d <code>find(self, collection_name, query)</code>","text":"<ul> <li>But : R\u00e9cup\u00e8re les documents correspondant \u00e0 une requ\u00eate.</li> <li>Param\u00e8tres :</li> <li><code>collection_name</code> : nom de la collection.</li> <li><code>query</code> : dictionnaire MongoDB pour filtrer.</li> <li>Retour : liste de r\u00e9sultats (<code>list</code>).</li> </ul>"},{"location":"mongo/#updateself-collection_name-query-update_query","title":"\ud83d\udd04 <code>update(self, collection_name, query, update_query)</code>","text":"<ul> <li>But : Met \u00e0 jour un ou plusieurs documents.</li> <li>Param\u00e8tres :</li> <li><code>query</code> : crit\u00e8re de s\u00e9lection.</li> <li><code>update_query</code> : donn\u00e9es \u00e0 modifier, typiquement avec <code>$set</code>, <code>$push</code>, etc.</li> <li>Retour : objet r\u00e9sultat d\u2019<code>update_many</code>.</li> </ul>"},{"location":"mongo/#deleteself-collection_name-query","title":"\u274c <code>delete(self, collection_name, query)</code>","text":"<ul> <li>But : Supprime un ou plusieurs documents.</li> <li>Param\u00e8tres :</li> <li><code>query</code> : condition de suppression.</li> <li>Retour : r\u00e9sultat de <code>delete_many</code>.</li> </ul>"},{"location":"mongo/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<p>Cette classe centralise toutes les interactions avec MongoDB : - Elle est instanci\u00e9e une seule fois (singleton). - Elle est utilis\u00e9e par tous les repositories (\u00e9tudiant, classe, utilisateur). - Elle isole la logique Mongo : les autres modules n\u2019ont pas besoin de savoir comment fonctionne <code>pymongo</code>.</p>"},{"location":"redisdb/","title":"RedisDB \u2013 Singleton pour la gestion du cache avec Redis","text":"<p>Ce fichier contient une classe <code>RedisDB</code> et un encodeur JSON personnalis\u00e9 pour int\u00e9grer Redis comme syst\u00e8me de cache.</p>"},{"location":"redisdb/#classe-jsonencoder","title":"Classe : JSONEncoder","text":""},{"location":"redisdb/#defaultself-obj","title":"\ud83d\udd01 <code>default(self, obj)</code>","text":"<ul> <li>But : Convertit les objets non s\u00e9rialisables par d\u00e9faut (ex: <code>ObjectId</code>) en cha\u00eenes.</li> <li>Sp\u00e9cificit\u00e9 : si <code>obj</code> est un <code>ObjectId</code> MongoDB, il est transform\u00e9 avec <code>str(obj)</code>.</li> </ul>"},{"location":"redisdb/#classe-redisdb","title":"Classe : RedisDB","text":""},{"location":"redisdb/#singleton-via-__new__cls","title":"\ud83e\udde0 Singleton via <code>__new__(cls)</code>","text":"<ul> <li>But : Emp\u00eache la cr\u00e9ation de plusieurs instances de la connexion Redis.</li> <li>Connexion : Utilise les param\u00e8tres du fichier <code>config.py</code> : <code>REDIS_HOST</code>, <code>REDIS_PORT</code>, <code>REDIS_DB</code>.</li> </ul>"},{"location":"redisdb/#pingself","title":"\u2705 <code>ping(self)</code>","text":"<ul> <li>But : V\u00e9rifie la connexion \u00e0 Redis.</li> <li>Retour : <code>True</code> si Redis r\u00e9pond, sinon exception lev\u00e9e.</li> </ul>"},{"location":"redisdb/#set_cacheself-key-value-expirenone","title":"\ud83d\udcbe <code>set_cache(self, key, value, expire=None)</code>","text":"<ul> <li>But : Enregistre une valeur en cache avec une cl\u00e9.</li> <li>Param\u00e8tres :</li> <li><code>key</code> : cl\u00e9 unique de cache.</li> <li><code>value</code> : les donn\u00e9es \u00e0 stocker (objet Python).</li> <li><code>expire</code> : dur\u00e9e de vie du cache en secondes (facultatif).</li> <li>Traitement : S\u00e9rialise les objets (ex: <code>ObjectId</code>) via le <code>JSONEncoder</code> personnalis\u00e9.</li> </ul>"},{"location":"redisdb/#get_cacheself-key","title":"\ud83d\udce5 <code>get_cache(self, key)</code>","text":"<ul> <li>But : R\u00e9cup\u00e8re une donn\u00e9e du cache.</li> <li>Retour :</li> <li>Si la cl\u00e9 existe : valeur d\u00e9s\u00e9rialis\u00e9e en Python.</li> <li>Sinon : <code>None</code>.</li> </ul>"},{"location":"redisdb/#deleteself-key","title":"\u274c <code>delete(self, key)</code>","text":"<ul> <li>But : Supprime une cl\u00e9 du cache Redis.</li> </ul>"},{"location":"redisdb/#find_with_cacheself-collection_name-query-mongo_instance-expire60","title":"\ud83d\udd04 <code>find_with_cache(self, collection_name, query, mongo_instance, expire=60)</code>","text":"<ul> <li>But : Requ\u00eate MongoDB avec cache int\u00e9gr\u00e9.</li> <li>Logique :</li> <li>G\u00e9n\u00e8re une cl\u00e9 unique (hash\u00e9e) \u00e0 partir de la requ\u00eate.</li> <li>Si la donn\u00e9e est dans Redis : retour imm\u00e9diat \u2705.</li> <li> <p>Sinon : interroge MongoDB, stocke en cache, et renvoie les r\u00e9sultats \ud83d\udd01.</p> </li> <li> <p>Param\u00e8tres :</p> </li> <li><code>collection_name</code> : nom de la collection Mongo.</li> <li><code>query</code> : requ\u00eate Mongo (filtre).</li> <li><code>mongo_instance</code> : instance MongoDB (singleton).</li> <li><code>expire</code> : TTL en secondes (par d\u00e9faut : 60s).</li> <li>Utilit\u00e9 : R\u00e9duit les acc\u00e8s \u00e0 MongoDB pour des requ\u00eates identiques.</li> </ul>"},{"location":"redisdb/#resume-de-lutilisation","title":"R\u00e9sum\u00e9 de l\u2019utilisation","text":"<ul> <li><code>RedisDB</code> sert \u00e0 mettre en cache les r\u00e9sultats souvent consult\u00e9s (\u00e9tudiants, classes, authentification...).</li> <li><code>find_with_cache</code> est utilis\u00e9 dans les repositories pour \u00e9viter des appels inutiles \u00e0 MongoDB.</li> <li>Cela am\u00e9liore grandement les performances de l\u2019application.</li> </ul>"}]}